<template>
  <el-dialog
    v-model="dialogVisible"
    :title="null"
    :width="width"
    :modal="true"
    :close-on-click-modal="false"
    :append-to-body="false"
    :modal-append-to-body="false"
  >
    <!-- dialog-head插槽，默认显示标题 -->
    <template #header>
      <slot name="dialog-head">
        <div class="dialog-head">
          <img class="dialog-head-icon" src="../../assets/icons/card-icon.svg" />
          <span class="dialog-head-title">{{ props.title }}</span>
        </div>
      </slot>
    </template>

    <!-- dialog-body插槽，默认显示表单内容 -->
    <template #default>
      <slot name="dialog-body"> </slot>
    </template>

    <!-- dialog-footer插槽，默认显示底部按钮 -->
    <template #footer>
      <slot name="dialog-footer"> </slot>
    </template>
  </el-dialog>
</template>

<script setup lang="ts">
const props = defineProps<{
  title: string
  width: number | string
}>()
const dialogVisible = ref(false)
// 暴露方法和属性
defineExpose({
  dialogVisible,
})
</script>

<style lang="scss" scoped>
.dialog-head {
  display: flex;
  align-items: center;
  .dialog-head-icon {
    width: 20px;
    height: 20px;
    margin-right: 3px;
  }
  .dialog-head-title {
    font-weight: 700;
    font-size: 18px;
    line-height: 20px;
    letter-spacing: 0%;
    color: rgba(245, 247, 255, 1);
  }
}
:deep(.el-dialog) {
  position: absolute !important;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}
:deep(.el-overlay) {
  position: absolute !important;
  top: -20px;
  left: -20px;
}
</style>
